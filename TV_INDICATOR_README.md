# Индикатор NIFTY OI для TradingView

Этот индикатор отображает данные об изменении открытого интереса (Open Interest) в различных временных интервалах для символа NIFTY.

## Настройка

### 1. Обновление серверной части (Render)

Вы уже развернули серверную часть на Render. Убедитесь, что API доступен по адресу:
```
https://dhan-oi-api.onrender.com/tv_data?symbol=NIFTY
```

### 2. Настройка индикатора в TradingView

1. Откройте TradingView и войдите в свой аккаунт
2. Откройте график NIFTY или любого другого символа, для которого хотите использовать индикатор
3. Нажмите "Pine Editor" в нижней части экрана
4. Вставьте код из файла `tradingview_indicator.pine` в редактор
5. Нажмите "Save" и дайте индикатору название, например "NIFTY OI Changes"
6. Нажмите "Add to Chart", чтобы добавить индикатор на график

### 3. Ограничения и особенности работы

#### Обратите внимание:
- TradingView не позволяет делать HTTP запросы напрямую из Pine Script
- Для получения данных из внешних источников нужно использовать один из методов:

#### Вариант 1: Ручное обновление (без аккаунта TradingView Pro)
1. Периодически проверяйте данные с API вручную
2. Обновляйте значения в настройках индикатора

#### Вариант 2: С использованием TradingView Pro (рекомендуется)
1. Настройте Webhook с использованием сервиса-посредника (например, Zapier, Integromat)
2. Создайте интеграцию, которая будет получать данные с нашего API и передавать их в TradingView
3. Обновите URL в настройках индикатора на URL вашего webhook

## Интерпретация данных

Индикатор отображает таблицу с следующими данными:
- **TF**: временной интервал (15min, 45min, 75min, 2hours, 4hours)
- **Change in price**: изменение цены в процентах
- **Change in OI**: изменение открытого интереса в процентах
- **Rvol**: относительный объем
- **Relationship**: цветовое обозначение отношения между изменением цены и OI

### Цветовая кодировка:
- **Зеленый**: положительное изменение OI (растущий интерес)
- **Красный**: отрицательное изменение OI (падающий интерес)

### Стратегия торговли:
1. **Рост цены + рост OI (зеленый)** = сильный бычий тренд
2. **Рост цены + падение OI (красный)** = слабый бычий тренд, возможен разворот
3. **Падение цены + рост OI (зеленый)** = сильный медвежий тренд
4. **Падение цены + падение OI (красный)** = слабый медвежий тренд, возможен разворот 